# Assumes you have a Homebrew-managed installation of LLVM.
CXX = /opt/homebrew/opt/llvm/bin/clang++ -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS
LIBS = -L/opt/homebrew/opt/llvm/lib
CXXFLAGS = -fcolor-diagnostics -fansi-escape-codes -std=c++20 -stdlib=libc++ -Wall -Wextra -pedantic
INCLUDES = -I/opt/homebrew/opt/llvm/include -I.

sha256.o: sha256.cpp
	$(CXX) -c sha256.cpp $(INCLUDES) $(LIBS) $(CXXFLAGS)

sha512.o: sha512.cpp
	$(CXX) -c sha512.cpp $(INCLUDES) $(LIBS) $(CXXFLAGS)

sha256sum.o: sha256sum.cpp
	$(CXX) -c sha256sum.cpp $(INCLUDES) $(LIBS) $(CXXFLAGS)

sha256sum: sha256.o sha256sum.o
	$(CXX) -o $@ $^ $(LIBS) $(CXXFLAGS)

sha512sum.o: sha512sum.cpp
	$(CXX) -c sha512sum.cpp $(INCLUDES) $(LIBS) $(CXXFLAGS)

sha512sum: sha512.o sha512sum.o
	$(CXX) -o $@ $^ $(LIBS) $(CXXFLAGS)

clean:
	rm *.o
	rm sha*sum